(this.webpackJsonpunstoppable=this.webpackJsonpunstoppable||[]).push([[0],{172:function(t,e,a){t.exports=a.p+"static/media/logo.ff816526.svg"},176:function(t,e,a){t.exports=a(406)},181:function(t,e,a){},196:function(t,e){},198:function(t,e){},228:function(t,e){},229:function(t,e){},273:function(t,e){},275:function(t,e){},298:function(t,e){},404:function(t,e,a){},405:function(t,e,a){},406:function(t,e,a){"use strict";a.r(e);var n=a(2),r=a.n(n),l=a(165),o=a.n(l),i=(a(181),a(174)),s=a(91),c=a(166),u=a(167),h=a(173),f=a(168),m=a(175),d=a(169),k=a.n(d),p=a(170),g=a.n(p),b=a(90),y=a.n(b),v=a(171),w=a.n(v),E=a(172),D=a.n(E),S=(a(404),a(405),function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(h.a)(this,Object(f.a)(e).call(this,t))).state={year:"2020",data:[],filteredData:[],totals:{bike:0,run:0,workout:0},monthly:{},filter:"all",streaks:{current:{start:"",length:0},longest:{start:"",length:0}}},a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"loadSheet",value:function(t){return new Promise((function(e){g.a.init({key:"https://docs.google.com/spreadsheets/d/1CK1dlXslA7_wRth0SYvTf4wY2xgzk2gKGD1uw6SVyKg/edit?usp=sharing",callback:function(a){e(a[t].elements)},wanted:[t]})}))}},{key:"normalize",value:function(t){return t.map((function(t){return{date:t.date,bike:Number(t.bike||0),run:Number(t.run||0),workout:Number(t.workout||0),comments:t.comments}})).filter((function(t){return t.bike+t.run+t.workout>0}))}},{key:"calculateYearlyTotals",value:function(t){return t.reduce((function(t,e){return t.bike+=e.bike,t.run+=e.run,t.workout+=e.workout,t}),{bike:0,run:0,workout:0})}},{key:"calculateStreaksOfActivity",value:function(t){var e=function(t,e){return Math.abs(new Date(e)-new Date(t))/864e5},a=t.reduce((function(t,a){return t.start?(e(t.start,a.date)===t.length?t.length++:(t.length>t.longest.length&&(t.longest={start:t.start,length:t.length}),t.start=a.date,t.length=1),t):{start:a.date,length:1,longest:{start:a.date,length:1}}}),{});return{longest:a.length>a.longest.length?{start:a.start,length:a.length}:a.longest,current:e(a.start,new Date)<=a.length+1?{start:a.start,length:a.length}:{length:0}}}},{key:"calculateMonthlyTotals",value:function(t){var e=t.reduce((function(t,e){var a=w()(e.date).format("MMMM");return(t[a]=t[a]||[]).push(e),t}),{});return Object.entries(e).reduce((function(t,e){var a=Object(s.a)(e,2),n=a[0],r=a[1];return t[n]=r.reduce((function(t,e){return t.bike+=e.bike,t.run+=e.run,t.workout+=e.workout,t}),{bike:0,run:0,workout:0}),t}),{})}},{key:"componentWillMount",value:function(){this.fetchData(this.state.year)}},{key:"componentDidUpdate",value:function(t,e){var a=this;this.state.year!==e.year&&this.fetchData(this.state.year),this.state.filter!==e.filter&&this.setState((function(t){return{filteredData:a.calculateFilteredData(t.data,t.filter)}}))}},{key:"fetchData",value:function(t){var e=this;this.loadSheet(t).then((function(t){var a=e.normalize(t),n=e.calculateYearlyTotals(a),r=e.calculateStreaksOfActivity(a),l=e.calculateMonthlyTotals(a),o=e.calculateFilteredData(a,"all");e.setState({data:a,totals:n,monthly:l,streaks:r,filter:"all",filteredData:o}),y.a.rebuild()})).catch((function(t){return console.error(t)}))}},{key:"calculateFilteredData",value:function(t,e){var a=["all","bike"].includes(e)?1:0,n=["all","run"].includes(e)?5:0,r=["all","workout"].includes(e)?.5:0;return t.map((function(t){return Object(i.a)({},t,{score:t.bike*a+t.run*n+t.workout*r})}))}},{key:"classForValue",value:function(t){return t?0===t.score?"color-empty":t.score<10?"color-github-1":t.score<25?"color-github-2":t.score<50?"color-github-3":"color-github-4":"color-empty"}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:D.a,className:"App-logo",alt:"logo"}),r.a.createElement("h1",{className:"App-title"},"Unstoppable.")),r.a.createElement("div",{className:"HeatmapContainer"},r.a.createElement("div",{className:"Heatmap"},r.a.createElement(k.a,{startDate:new Date("".concat(this.state.year,"-01-01")),endDate:new Date("".concat(this.state.year,"-12-31")),values:this.state.filteredData,classForValue:this.classForValue,showWeekdayLabels:!0,tooltipDataAttrs:function(t){if(t&&t.date){var e=[t.date];return t.bike&&e.push("".concat(t.bike," km by bike")),t.run&&e.push("".concat(t.run," km ran")),t.workout&&e.push("".concat(t.workout," min of workout")),t.comments&&e.push(t.comments),{"data-tip":e.join("<br />")}}},weekdayLabels:["","Mo","","We","","Fri",""]})),r.a.createElement("div",{className:"Filters"},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",checked:"all"===this.state.filter,onChange:function(){return t.setState({filter:"all"})}}),r.a.createElement("span",{role:"img","aria-label":"all"}," \ud83c\udf0d")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",checked:"bike"===this.state.filter,onChange:function(){return t.setState({filter:"bike"})}}),r.a.createElement("span",{role:"img","aria-label":"bike"}," \ud83d\udeb4")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",checked:"run"===this.state.filter,onChange:function(){return t.setState({filter:"run"})}}),r.a.createElement("span",{role:"img","aria-label":"run"}," \ud83c\udfc3")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",checked:"workout"===this.state.filter,onChange:function(){return t.setState({filter:"workout"})}}),r.a.createElement("span",{role:"img","aria-label":"workout"}," \ud83c\udfcb")))),r.a.createElement("div",{className:"Totals"},"Total of ",this.state.totals.bike," km by \ud83d\udeb4, ",this.state.totals.run," km by \ud83c\udfc3 and ",Math.floor(this.state.totals.workout/60)," hours of \ud83c\udfcb this year.",r.a.createElement("br",null),"Current streak of activity is ",this.state.streaks.current.length," days. Longest is ",this.state.streaks.longest.length," days."),["bike","run","workout"].includes(this.state.filter)&&r.a.createElement("div",{className:"mt"},Object.entries(this.state.monthly).map((function(e){var a=Object(s.a)(e,2),n=a[0],l=a[1];return r.a.createElement("div",{key:n},n,": ",l[t.state.filter])}))),r.a.createElement("div",{className:"mt"},r.a.createElement("input",{type:"radio",checked:"2018"===this.state.year,onChange:function(){return t.setState({year:"2018"})}})," 2018",r.a.createElement("input",{type:"radio",checked:"2019"===this.state.year,onChange:function(){return t.setState({year:"2019"})}})," 2019",r.a.createElement("input",{type:"radio",checked:"2020"===this.state.year,onChange:function(){return t.setState({year:"2020"})}})," 2020"),r.a.createElement(y.a,{effect:"solid",multiline:!0}))}}]),e}(n.Component));o.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[176,1,2]]]);
//# sourceMappingURL=main.627aa019.chunk.js.map