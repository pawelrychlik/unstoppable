(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(t,e,a){t.exports=a.p+"static/media/logo.ff816526.svg"},166:function(t,e,a){t.exports=a(400)},175:function(t,e,a){},189:function(t,e){},191:function(t,e){},223:function(t,e){},224:function(t,e){},291:function(t,e){},396:function(t,e,a){},398:function(t,e,a){},400:function(t,e,a){"use strict";a.r(e);var n=a(3),r=a.n(n),l=a(86),o=a.n(l),i=(a(175),a(164)),s=a(157),c=a(158),u=a(163),h=a(159),f=a(165),m=a(160),d=a.n(m),k=a(161),g=a.n(k),p=a(87),b=a.n(p),y=a(162),v=a.n(y),w=(a(396),a(398),function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(u.a)(this,Object(h.a)(e).call(this,t))).state={year:"2019",data:[],filteredData:[],totals:{bike:0,run:0,workout:0},filter:"all",streaks:{current:{start:"",length:0},longest:{start:"",length:0}}},a}return Object(f.a)(e,t),Object(c.a)(e,[{key:"loadSheet",value:function(t){return new Promise(function(e){g.a.init({key:"https://docs.google.com/spreadsheets/d/1CK1dlXslA7_wRth0SYvTf4wY2xgzk2gKGD1uw6SVyKg/edit?usp=sharing",callback:function(a){e(a[t].elements)},wanted:[t]})})}},{key:"normalize",value:function(t){return t.map(function(t){return{date:t.date,bike:Number(t.bike||0),run:Number(t.run||0),workout:Number(t.workout||0),comments:t.comments}}).filter(function(t){return t.bike+t.run+t.workout>0})}},{key:"calculateYearlyTotals",value:function(t){return t.reduce(function(t,e){return t.bike+=e.bike,t.run+=e.run,t.workout+=e.workout,t},{bike:0,run:0,workout:0})}},{key:"calculateStreaksOfActivity",value:function(t){var e=function(t,e){return Math.abs(new Date(e)-new Date(t))/864e5},a=t.reduce(function(t,a){return t.start?(e(t.start,a.date)===t.length?t.length++:(t.length>t.longest.length&&(t.longest={start:t.start,length:t.length}),t.start=a.date,t.length=1),t):{start:a.date,length:1,longest:{start:a.date,length:1}}},{});return{longest:a.length>a.longest.length?{start:a.start,length:a.length}:a.longest,current:e(a.start,new Date)<=a.length+1?{start:a.start,length:a.length}:{length:0}}}},{key:"componentWillMount",value:function(){this.fetchData(this.state.year)}},{key:"componentDidUpdate",value:function(t,e){var a=this;this.state.year!==e.year&&this.fetchData(this.state.year),this.state.filter!==e.filter&&this.setState(function(t){return{filteredData:a.calculateFilteredData(t.data,t.filter)}})}},{key:"fetchData",value:function(t){var e=this;this.loadSheet(t).then(function(t){var a=e.normalize(t),n=e.calculateYearlyTotals(a),r=e.calculateStreaksOfActivity(a),l=e.calculateFilteredData(a,"all");e.setState({data:a,totals:n,streaks:r,filter:"all",filteredData:l}),b.a.rebuild()}).catch(function(t){return console.error(t)})}},{key:"calculateFilteredData",value:function(t,e){var a=["all","bike"].includes(e)?1:0,n=["all","run"].includes(e)?5:0,r=["all","workout"].includes(e)?.5:0;return t.map(function(t){return Object(i.a)({},t,{score:t.bike*a+t.run*n+t.workout*r})})}},{key:"classForValue",value:function(t){return t?0===t.score?"color-empty":t.score<10?"color-github-1":t.score<25?"color-github-2":t.score<50?"color-github-3":"color-github-4":"color-empty"}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:v.a,className:"App-logo",alt:"logo"}),r.a.createElement("h1",{className:"App-title"},"Unstoppable.")),r.a.createElement("div",{className:"HeatmapContainer"},r.a.createElement("div",{className:"Heatmap"},r.a.createElement(d.a,{startDate:new Date("".concat(this.state.year,"-01-01")),endDate:new Date("".concat(this.state.year,"-12-31")),values:this.state.filteredData,classForValue:this.classForValue,showWeekdayLabels:!0,tooltipDataAttrs:function(t){if(t&&t.date){var e=[t.date];return t.bike&&e.push("".concat(t.bike," km by bike")),t.run&&e.push("".concat(t.run," km ran")),t.workout&&e.push("".concat(t.workout," min of workout")),t.comments&&e.push(t.comments),{"data-tip":e.join("<br />")}}},weekdayLabels:["","Mo","","We","","Fri",""]})),r.a.createElement("div",{className:"Filters"},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",checked:"all"===this.state.filter,onChange:function(){return t.setState({filter:"all"})}}),r.a.createElement("span",{role:"img","aria-label":"all"}," \ud83c\udf0d")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",checked:"bike"===this.state.filter,onChange:function(){return t.setState({filter:"bike"})}}),r.a.createElement("span",{role:"img","aria-label":"bike"}," \ud83d\udeb4")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",checked:"run"===this.state.filter,onChange:function(){return t.setState({filter:"run"})}}),r.a.createElement("span",{role:"img","aria-label":"run"}," \ud83c\udfc3")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",checked:"workout"===this.state.filter,onChange:function(){return t.setState({filter:"workout"})}}),r.a.createElement("span",{role:"img","aria-label":"workout"}," \ud83c\udfcb")))),r.a.createElement("div",{className:"Totals"},"Total of ",this.state.totals.bike," km by \ud83d\udeb4, ",this.state.totals.run," km by \ud83c\udfc3 and ",Math.floor(this.state.totals.workout/60)," hours of \ud83c\udfcb this year.",r.a.createElement("br",null),"Current streak of activity is ",this.state.streaks.current.length," days. Longest is ",this.state.streaks.longest.length," days."),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("input",{type:"radio",checked:"2018"===this.state.year,onChange:function(){return t.setState({year:"2018"})}})," 2018",r.a.createElement("input",{type:"radio",checked:"2019"===this.state.year,onChange:function(){return t.setState({year:"2019"})}})," 2019"),r.a.createElement(b.a,{effect:"solid",multiline:!0}))}}]),e}(n.Component));o.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[166,2,1]]]);
//# sourceMappingURL=main.d6819905.chunk.js.map